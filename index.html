<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Valentine Surprise</title>
<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: radial-gradient(circle at top left, #ff3366, #ff668a, #ffc0cb);
    overflow: hidden;
    font-family: 'Poppins', sans-serif;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }
  .card {
    background: rgba(0,0,0,0.6);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
    width: min(700px, 90%);
    padding: 35px;
    position: relative;
    z-index: 10;
  }
  h1 {
    font-size: 2.3rem;
    margin-bottom: 15px;
    text-shadow: 2px 2px 10px rgba(255,255,255,0.5);
  }
  p, button {
    font-size: 1.2rem;
  }
  button {
    border: none;
    border-radius: 12px;
    padding: 10px 25px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px;
    transition: 0.3s;
  }
  #yes {
    background-color: #fff;
    color: #e60050;
    font-size: 1.4rem;
    padding: 15px 32px;
    transform: scale(1.1);
  }
  #yes:hover {
    background-color: #e60050;
    color: #fff;
    transform: scale(1.15);
  }
  #no {
    background-color: #fff;
    color: #e60050;
    position: absolute;
  }
  #no:hover {
    background-color: #ffcccc;
  }
  .choices {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-top: 20px;
    position: relative;
  }
  .overlay {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.9);
    padding: 35px;
    border-radius: 20px;
    text-align: center;
    color: #fff;
    z-index: 50;
    width: 80%;
    max-width: 420px;
    box-shadow: 0 0 20px rgba(0,0,0,0.6);
  }
  #finalBox {
    display: none;
    margin-top: 25px;
    background: rgba(0,0,0,0.6);
    padding: 25px;
    border-radius: 15px;
    line-height: 1.7;
    font-size: 1.15rem;
  }
  .heart {
    position: fixed;
    width: 20px;
    height: 20px;
    background: red;
    transform: rotate(45deg);
    animation: fall linear infinite;
    top: -50px;
    z-index: 0;
  }
  .heart::before, .heart::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    border-radius: 50%;
  }
  .heart::before { top: -10px; left: 0; }
  .heart::after { left: 10px; top: 0; }
  @keyframes fall {
    0% { transform: translateY(-50px) rotate(45deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(45deg); opacity: 0; }
  }
</style>
</head>
<body>

<!-- Soft slow romantic tune (royalty-free) -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/audio/2023/03/26/audio_9acb89a019.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <h1>ğŸ’˜ğŸ’˜</h1>
  <div id="q1">
    <p><strong>lets see how much you know me first shaan eta na parle ami koshto pabo ğŸ˜¤<br>Whatâ€™s my favorite cake flavor?</strong></p>
    <div class="choices">
      <button class="option" data-choice="A">A â€” Chocolate cake</button>
      <button class="option" data-choice="B">B â€” Vanilla cake</button>
      <button class="option" data-choice="C">C â€” Red velvet cake</button>
      <button class="option" data-choice="D">D â€” Cheesecake</button>
    </div>
  </div>

  <div id="q2" style="display:none;">
    <p><strong>Will you be my Valentine?</strong></p>
    <div class="choices" id="valentineChoices" style="height: 150px; position: relative;">
      <button id="yes">Yes ğŸ’–</button>
      <button id="no">No ğŸ˜¢</button>
    </div>
  </div>

  <div id="finalBox"></div>
</div>

<div id="overlay" class="overlay"></div>

<script>
const q1 = document.getElementById('q1');
const q2 = document.getElementById('q2');
const overlay = document.getElementById('overlay');
const finalBox = document.getElementById('finalBox');
const noBtn = document.getElementById('no');
const yesBtn = document.getElementById('yes');
const bgMusic = document.getElementById('bgMusic');

// start soft tune after first click (browser restriction)
document.body.addEventListener('click', () => {
  bgMusic.play().catch(()=>{});
}, { once: true });

document.querySelectorAll('.option').forEach(btn => {
  btn.addEventListener('click', () => {
    if (btn.dataset.choice === 'C') {
      q1.style.display = 'none';
      q2.style.display = 'block';
    } else {
      overlay.innerHTML = '<p style="font-size:1.2rem;">ğŸ˜¡ Try again! ğŸ˜¡</p><img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" width="140"><br><button onclick="overlay.style.display=\'none\'">OK</button>';
      overlay.style.display = 'block';
    }
  });
});

// make No button fly away smoothly within the card area
noBtn.addEventListener('mouseenter', () => {
  const container = document.getElementById('valentineChoices');
  const containerRect = container.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();
  const maxX = containerRect.width - btnRect.width;
  const maxY = containerRect.height - btnRect.height;
  const x = Math.random() * maxX;
  const y = Math.random() * maxY;
  noBtn.style.transition = 'all 0.3s ease';
  noBtn.style.position = 'absolute';
  noBtn.style.left = x + 'px';
  noBtn.style.top = y + 'px';
});

yesBtn.addEventListener('click', () => {
  q2.style.display = 'none';
  finalBox.style.display = 'block';
  finalBox.innerHTML = '<h2>Happy Valentine\'s Day! ğŸ’</h2><p>Hi baby, happy Valentineâ€™s Day! I know the past few days havenâ€™t been the best for us and weâ€™ve been fighting a lot, but even though sometimes it was my fault, you put your ego aside and still said sorry to me. Iâ€™m really grateful for that. I hope youâ€™ll be my Valentine for all the ones to come in my life until I die. I love you so much, baby ğŸ’–</p>';
  spawnHearts(30);
});

function spawnHearts(n){
  for(let i=0;i<n;i++){
    const heart=document.createElement('div');
    heart.className='heart';
    heart.style.left=Math.random()*100+'%';
    heart.style.animationDuration=(3+Math.random()*3)+'s';
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
  }
}
setInterval(()=>spawnHearts(2),1000);
</script>
</body>
</html>
